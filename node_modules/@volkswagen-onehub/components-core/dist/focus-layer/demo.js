"use strict";
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
const React = __importStar(require("react"));
const button_1 = require("../button");
const checkbox_1 = require("../checkbox");
const container_1 = require("../container");
const demo_container_1 = require("../demo/demo-container");
const demo_root_1 = require("../demo/demo-root");
const demo_theme_provider_with_toggle_1 = require("../demo/demo-theme-provider-with-toggle");
const hoc_1 = require("../hoc");
const layer_wrapper_1 = require("../layer-wrapper");
const radio_button_1 = require("../radio-button");
const shim_layer_1 = require("../shim-layer");
const text_1 = require("../text");
const index_1 = require("./index");
const demo_data_1 = require("./demo-data");
const FocusLayerWithFocusLock = hoc_1.withFocusLock(index_1.FocusLayer);
class FocusLayerDemo extends React.Component {
    constructor() {
        super(...arguments);
        this.state = {
            withOverflowingContent: true,
            layerIsVisible: false,
            layerSize: index_1.FocusLayerSize.A
        };
        this.toggleVisibility = () => {
            this.setState(state => ({
                layerIsVisible: !state.layerIsVisible
            }));
        };
        this.toggleContent = (_event, props) => {
            this.setState({
                withOverflowingContent: !props.checked
            });
        };
        this.toggleSize = (_event, props) => {
            this.setState({
                layerSize: props.value
            });
        };
    }
    render() {
        const layerContent = this.state.withOverflowingContent
            ? demo_data_1.demoData.long
            : demo_data_1.demoData.short;
        const { layerIsVisible, layerSize } = this.state;
        return (React.createElement(demo_root_1.DemoRoot, { showGridOverlayToggle: true },
            React.createElement(demo_theme_provider_with_toggle_1.DemoThemeProviderWithToggle, null,
                React.createElement(demo_container_1.DemoContainer, null,
                    React.createElement(container_1.Container, { gutter: container_1.ContainerGutter.dynamic0100, padding: container_1.ContainerPadding.grid001, wrap: container_1.ContainerWrap.always },
                        React.createElement(text_1.Text, { appearance: text_1.TextAppearance.headline350 }, "Select your focus layer options"),
                        React.createElement(checkbox_1.Checkbox, { value: "long-text", checked: this.state.withOverflowingContent, onChange: this.toggleContent, label: "with overflowing text" }),
                        React.createElement(radio_button_1.RadioButton, { name: "size", value: index_1.FocusLayerSize.A, checked: this.state.layerSize === index_1.FocusLayerSize.A, onChange: this.toggleSize, label: "Size A" }),
                        React.createElement(radio_button_1.RadioButton, { name: "size", value: index_1.FocusLayerSize.B, checked: this.state.layerSize === index_1.FocusLayerSize.B, onChange: this.toggleSize, label: "Size B" }),
                        React.createElement(button_1.Button, { onClick: this.toggleVisibility }, "Open Focus Layer")),
                    React.createElement(container_1.Container, { gutter: container_1.ContainerGutter.static100, padding: container_1.ContainerPadding.grid001, wrap: container_1.ContainerWrap.always },
                        React.createElement(text_1.Text, { appearance: text_1.TextAppearance.headline350 }, "This is some dummy page content"),
                        React.createElement(text_1.Text, null, demo_data_1.demoData.long)),
                    React.createElement(layer_wrapper_1.LayerWrapper, { contentCentered: true }, layerIsVisible
                        ? [
                            React.createElement(shim_layer_1.ShimLayer, { key: "shim" }),
                            React.createElement(FocusLayerWithFocusLock, { key: "focus-layer", active: layerIsVisible, size: layerSize, ariaLabelledBy: "headline-id", onEscKeyUp: this.toggleVisibility },
                                React.createElement(container_1.Container, { gutter: container_1.ContainerGutter.dynamic0100, padding: container_1.ContainerPadding.grid001, wrap: container_1.ContainerWrap.always },
                                    React.createElement("div", { id: "headline-id" },
                                        React.createElement(text_1.Text, { bold: true, appearance: text_1.TextAppearance.headline0300 }, "Focus layer demo")),
                                    React.createElement(button_1.Button, { onClick: this.toggleVisibility }, "Close Focus Layer"),
                                    React.createElement(container_1.Container, { gutter: container_1.ContainerGutter.dynamic0200 }, layerContent
                                        .split('\n\n')
                                        .map((paragraph, index) => (React.createElement(text_1.Text, { key: `paragraph-${index}` }, paragraph)))),
                                    React.createElement(button_1.Button, { onClick: this.toggleVisibility }, "Close Focus Layer")))
                        ]
                        : undefined)))));
    }
}
exports.default = FocusLayerDemo;
