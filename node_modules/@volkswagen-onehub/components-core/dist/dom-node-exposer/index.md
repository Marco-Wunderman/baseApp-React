## Description

This is a helper component for exposing elements in a global variable. The
intended use-case for this is using the referenced elements from the global
variable for unit-tests.

The DOMNodeExposer is a
[higher order component ↗](https://reactjs.org/docs/higher-order-components.html)
and will not create any html or change the rendering of its children. It will
detect the first HTML Element in its children and will put this Element in to
the `elementRefs` variable inside the `window` object under the given name.

We only write the global variable if we are not in production mode (checked with
`process.env.NODE_ENV !== 'production'`).

## Structure of the global `elementRefs` variable

The name property on the DOMNodeExposer has no guarantee to be unique on the
page. This forces a structure where we could always have multiple Elements for
each name in the `elementRefs` variable.

```JS
{
  pageSubmitButton: [HTMLReference],
  allButtons: [
    HTMLReference,
    HTMLReference,
    HTMLReference
  ]
}
```

## Usage example

For example if you want to identify specific elements in a test scenario, use
the DOMNodeExposer to access these elements and interact with them or read
information from them.

Example with a UI-Test Library like TestCafé:

```JSX
<DOMNodeExposer name="pageSubmitButton">
	<Button />
</DOMNodeExposer>
```

```JS
import { Selector } from 'testcafe';

const element = Selector(() => {
    return window.elementRefs.pageSubmitButton[0].domNode;
});

test('My Test', async t => {
    await t.click(element);
});
```

You can also select nested elements:

```JSX
<DOMNodeExposer name="section">
  <Section>
    <DOMNodeExposer name="cancelButton">
      <Button />
    </DOMNodeExposer>
    <DOMNodeExposer name="submitButton">
      <Button />
    </DOMNodeExposer>
  </Section>
</DOMNodeExposer>
```

```JS
import { Selector } from 'testcafe';

const element = Selector(() => {
    return window.elementRefs.section[0].containedRefs.submitButton[0].domNode;
});

test('My Test', async t => {
    await t.click(element);
});
```
