## Purpose

The `ThemeProvider` is responsible for setting the correct theme for all its
child components. A 'theme' consists of definitions for colors, sizes, fonts and
icons.

At least one `ThemeProvider` must be included in the application, wrapping the
application's components.

A theme is selected by passing a theme name or theme definition to the
`ThemeProvider`. If not passed a valid theme name or theme definition, the
`ThemeProvider` will fall back to the default theme 'main'.

By using a theme definition it is possible to override all or some theme
properties. If defining only some properties, this partial definition will
inherit missing values from the 'main' theme. Please note that partial
definitions can only override existing theme properties, it is not possible to
add and retrieve custom keys.

When nesting `ThemeProviders`, the nested `ThemeProvider` will inherit the theme
of its parent if not passed a valid theme name or theme definition, thereby
overriding inherited definitions in whole or in part.

Because the `ThemeProvider` component uses the
[styled components ThemeProvider](https://www.styled-components.com/docs/advanced#theming)
internally, theming will only work with components that use `styled components`
for styling.

## Usage

### ThemeProvider without default props

```javascript
<SomeRootComponent>
  // theme will default to 'main'
  <ThemeProvider>
    <ChildComponent_1 />
    <ChildComponent_2 />
    <ChildComponent_3 />
  <ThemeProvider/>
<SomeRootComponent/>
```

### ThemeProvider with theme 'main'

```javascript
<SomeRootComponent>
  // explicitly use theme 'main'
  <ThemeProvider theme="main">
    <ChildComponent_1 />
    <ChildComponent_2 />
    <ChildComponent_3 />
  <ThemeProvider/>
<SomeRootComponent/>
```

### ThemeProvider with partial theme overrides

```javascript
const themeOverride: PartialThemeDefinition = {
  color: {
    'container.background.primary': 'red-100'
  }
};

<SomeRootComponent>
  // this will override only `container.background.primary` of the current theme
  <ThemeProvider theme={themeOverride}>
    <ChildComponent_1 />
    <ChildComponent_2 />
    <ChildComponent_3 />
  <ThemeProvider/>
<SomeRootComponent/>
```

## Using the theme values in styled-components

```javascript
// Import the reexported `styled` from components-core.
// This allows the editor to recommend the theme path using Typescript types.
import {styled} from 'components-core';

// use in styled components tagged template literal
const StyledElement = styled.div`
  color: ${props => props.theme.copy.color.secondary};
  background: ${props => props.theme.container.background.secondary};
  border: 1px solid ${props => props.theme.copy.color.primary};
  font-family: ${props => props.theme.copy.font.standard};
`;
```

## Related articles

- [Color / Themes](/doc/docs/documentation/40-appearance/color?styleguide-components-enabled=true&react--core-components-enabled=true&appearance-enabled=true)
- [Demo Theme Provider With Toggle](/pattern/demo-theme-provider-with-toggle/?react--core-components-enabled=true&styleguide-components-enabled=true&core-components-enabled=true)
